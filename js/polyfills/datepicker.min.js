/*!
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * v4.0.21 - 2016-04-12
 *
 */
!function(a,b,c,d){"use strict";var e,f,g,h,i,j,k="wb-date",l="input[type=date]",m="wb-init."+k,n="setfocus.wb",o="wb-picker",p="-picker-toggle",q=new Date,r=!1,s=d.doc,t=d.date.fromDateISO,u={minDate:new Date(1800,0,1),maxDate:new Date(2100,0,1),year:q.getFullYear(),month:q.getMonth(),daysCallback:function(a,b,c,d){var e,f=c,g=this.date;d&&(d.max&&(f=f.filter(":lt("+(d.max+1)+")")),d.min&&(f=f.filter(":gt("+(d.min-1)+")"))),f.wrap("<a href='javascript:;' tabindex='-1'></a>"),g&&a===g.getFullYear()&&b===g.getMonth()?(e=c.eq(g.getDate()-1),e.parent().attr("aria-selected",!0)):e=a===q.getFullYear()&&b===q.getMonth()?c.eq(q.getDate()-1):f.eq(0),e.parent().removeAttr("tabindex")}},v=function(b){var c,g,i,j,m,n,o=d.init(b,k,l),p={};if(o){if(c=o.id,-1!==o.className.indexOf("picker-field"))return;f||(e=d.i18n,g=e("space").replace("&#32;"," ").replace("&#178;",""),f={show:e("date-show").replace("\\'","'")+g,hide:e("date-hide").replace("\\'","'")+g+g+e("esc-key").replace("\\'","'"),selected:e("date-sel").replace("\\'","'")}),o.className+=" picker-field",i={field:this,$field:a(this),labelText:a("label[for="+o.id+"]").clone().find(".datepicker-format, .error").remove().end().text()},j=t(o.getAttribute("min")),m=t(o.getAttribute("max")),j&&(i.minDate=j),m&&(i.maxDate=m),o.state=a.extend(p,u,i),n=q>=p.minDate&&q<=p.maxDate?q:p.maxDate,n&&(p.year=n.getFullYear(),p.month=n.getMonth()),y.call(o),h||w(o),c&&x(o),d.ready(a(o),k),r=!0}},w=function(b){var c=f.hide;g=a("<div id='"+o+"' class='picker-overlay' role='dialog' tabindex='-1' aria-hidden='true'></div>"),g.find("a").attr("tabindex","-1"),a("main").after(g),h=d.calendar.create(g,b.state),i=h.$o,a("<button type='button' class='picker-close mfp-close overlay-close' title=\""+c+"\">&#xd7;<span class='wb-inv'> "+c+"</span></button>").appendTo(g)},x=function(b){var c=b.id,d=b.state.labelText,e=f.show+d,h="<span class='input-group-btn'><a href='javascript:;' button id='"+c+"-picker-toggle' class='btn btn-default picker-toggle' href='javascript:;' title=\""+e+"\"><span class='glyphicon glyphicon-calendar'></span><span class='wb-inv'>"+e+"</span></a></span>";a("#"+c).wrap("<span class='wb-date-wrap input-group'/>").after(h),g.slideUp(0)},y=function(){var a=this.state,b=a.minDate,c=a.maxDate,d=t(this.value);d&&d>=b&&c>=d?(a.date=d,a.year=d.getFullYear(),a.month=d.getMonth()):a.date=null},z=function(a){"false"!==g.attr("aria-hidden")?B(a):A()},A=function(){var b=h.field,c=h.$field,d=f.show+h.labelText;a("#"+b.id+p).attr("title",d.replace("&#32;"," ")).children(".wb-inv").html(d),g.removeClass("open").attr("aria-hidden","true"),c.trigger(n)},B=function(b){var c=b.id,d=f.hide;y.call(b),h.reInit(b.state),C(),g.addClass("open").attr({"aria-controls":c,"aria-labelledby":c+p,"aria-hidden":"false"}).get(0).focus(),a("#"+c+p).attr("title",d).children(".wb-inv").text(d)},C=function(){var a=h.field,b=h.$field.offset();g.attr("style","top:"+(b.top+a.offsetHeight)+"px;left:"+b.left+"px")};s.on("timerpoke.wb "+m,l,v),s.on("focusout focusin","#"+o+" .wb-clndr",function(a){switch(a.type){case"focusout":j=setTimeout(A,10);break;case"focusin":clearTimeout(j)}}),s.on("keydown","#"+o,function(a){27===a.which&&A()}),s.on("click",".picker-overlay .cal-days a",function(b){var c=b.which,d=h.field;return c&&1!==c||d.disabled||d.readOnly?void 0:(d.value=a(b.currentTarget).find("time").attr("datetime"),a(d).trigger("change"),A(),!1)}),s.on("click",".picker-toggle",function(b){b.preventDefault();var c,d,e=b.which;return e&&1!==e||(c=b.currentTarget.id,d=a("#"+c.substring(0,c.indexOf(p))).get(0),d.disabled||d.readOnly)?void 0:(z(d),!1)}),s.on("click",".picker-close",function(a){var b=a.which;b&&1!==b||(a.stopPropagation?a.stopImmediatePropagation():a.cancelBubble=!0,A())}),s.on("txt-rsz.wb win-rsz-width.wb win-rsz-height.wb",function(){g&&g.hasClass("open")&&C()}),d.add(l)}(jQuery,window,document,wb);
//# sourceMappingURL=datepicker.min.js.map