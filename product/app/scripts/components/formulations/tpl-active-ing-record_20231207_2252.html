<ng-form name="ingRecCtrl.activeIngForm" id="{{::ingRecCtrl.activeFormId}}"><div class="container-fluid" style="padding-bottom:8px; border-width: thin; border-style: solid"><cmp-error-summary form-ref="ingRecCtrl.activeIngForm" form-preamble="{{'INGRED_DETAILS'|translate}}&nbsp;{{ingRecCtrl.recordIndex+1}}" exclusion-list="ingRecCtrl.exclusions" name-suffix="ingRecCtrl.activeIngForm" set-heading-level="h3" form-id="ingRecCtrl.activeFormId" make-focused="ingRecCtrl.focusSummary" alias-list="ingRecCtrl.alias" show-errors="ingRecCtrl.showSummary" update-errors="ingRecCtrl.updateSummary"></cmp-error-summary><fieldset><legend class="legend-rep">{{'INGRED_DETAILS'|translate}}&nbsp;{{ingRecCtrl.recordIndex+1}}</legend><div class="row"><div class="form-group col-md-4" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.ingredRoleId].$invalid}"><label for="{{::ingRecCtrl.ingredRoleId}}" class="required"><span class="field-name">{{'ING_ROLE'|translate}}</span> <strong class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.ingredRoleId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.ingredRoleId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message></label><select id="{{::ingRecCtrl.ingredRoleId}}" data-ng-model="ingRecCtrl.ingModel.ingRole" data-ng-model-options="{ debounce: '$inherit'}" data-focus-if="ingRecCtrl.isFocus" data-ng-blur="ingRecCtrl.cancelFocus();" class="form-control full-width" name="{{::ingRecCtrl.ingredRoleId}}" required><option label=" " value=""><option data-ng-repeat="role in ingRecCtrl.ingRoleList" value="{{role.id}}">{{role[ingRecCtrl.lang]}}</option></select></div></div><div data-ng-if="ingRecCtrl.isRoleChosen()"><div class="row" data-ng-if="ingRecCtrl.isMedIng()"><div class="form-group col-md-12" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.ingredName].$invalid}"><label for="{{::ingRecCtrl.ingredName}}" class="required full-width"><span class="field-name">{{'ING_NAME'|translate}}</span> <strong class="required">{{'REQUIRED' |translate}}</strong> <sup id="dr9c1_ref"><a class="fn-lnk" href="#dr9c1"><span class="wb-inv">{{::'INSTRUCTION'|translate}}</span>{{::ingRecCtrl.htIndxList.ingNameIndx}}</a></sup><cmp-error-message field-name="ingRecCtrl.ingredName" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.ingredName])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message><div class="rep-margin-top"><input type="text" data-ng-model="ingRecCtrl.ingModel.ingLabel" name="{{::ingRecCtrl.ingredName}}" data-ng-if=" ingRecCtrl.lang === 'en'" data-ng-model-options="{ debounce: $inherit}" id="{{::ingRecCtrl.ingredName}}" maxlength="100" uib-typeahead=" rec.en for rec in ingRecCtrl.activeList | filter:{en:$viewValue} | limitTo:15" class="form-control full-width" typeahead-show-hint="false" typeahead-focus-first="false" data-ng-change="ingRecCtrl.ingredSelectionUpdated($item, $model, $label, $event)" data-ng-required="true" typeahead-on-select="ingRecCtrl.ingredSelectionUpdated($item, $model, $label, $event)" typeahead-popup-template-url="app/lib/uib-templates/customPopupTemplate.html"> <input type="text" data-ng-model="ingRecCtrl.ingModel.ingLabel" name="{{::ingRecCtrl.ingredName}}" data-ng-if=" ingRecCtrl.lang === 'fr'" data-ng-model-options="{ debounce: $inherit}" id="{{::ingRecCtrl.ingredName}}" maxlength="100" uib-typeahead=" rec.fr for rec in ingRecCtrl.activeList | filter:{fr:$viewValue} | limitTo:15" class="form-control full-width" typeahead-show-hint="false" typeahead-focus-first="false" data-ng-change="ingRecCtrl.ingredSelectionUpdated($item, $model, $label, $event)" data-ng-required="true" typeahead-on-select="ingRecCtrl.ingredSelectionUpdated($item, $model, $label, $event)" typeahead-popup-template-url="app/lib/uib-templates/customPopupTemplate.html"></div></label></div></div><div class="row" data-ng-if="!ingRecCtrl.isMedIng()"><div class="form-group col-md-12" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.nIngredName].$invalid}"><label for="{{::ingRecCtrl.nIngredName}}" class="required"><span class="field-name">{{'ING_NAME'|translate}}</span> <strong class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.nIngredName" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.nIngredName])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message><input type="text" id="{{::ingRecCtrl.nIngredName}}" data-ng-model="ingRecCtrl.ingModel.ingLabel" data-ng-model-options="{ debounce: $inherit}" name="{{::ingRecCtrl.nIngredName}}" class="form-control full-width" name="nonmedName" data-ng-required="true" maxlength="100"></label></div><div class="form-group col-md-12" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.proprietaryAttestationCheckBox].$invalid}"><label for="{{ingRecCtrl.proprietaryAttestationCheckBox}}"><input type="checkbox" id="{{::ingRecCtrl.proprietaryAttestationCheckBox}}" name="{{::ingRecCtrl.proprietaryAttestationCheckBox}}" data-ng-model="ingRecCtrl.ingModel.proprietaryAttestation.attested" ng-true-value="'Y'" ng-false-value="'N'" data-ng-model-options="{ debounce: $inherit}"> <span class="field-name">{{'NMI_PROPRIETARY_INFO_CHKBX'|translate}}</span> <sup id="dr9c7_ref"><a class="fn-lnk" href="#dr9c7"><span class="wb-inv">{{::'INSTRUCTION'|translate}}</span>{{::ingRecCtrl.htIndxList.nmiProprietaryInfoIndx}}</a></sup></label></div><div data-ng-if="ingRecCtrl.isNMIProprietaryInfoChecked()"><div class="form-group col-md-12" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.proprietaryAttestationInfo].$invalid}"><article><label for="{{::ingRecCtrl.proprietaryAttestationInfo}}" class="required"><span class="field-name">{{'NMI_PROPRIETARY_INFO_LBL'|translate}}</span> <strong class="required">{{"REQUIRED" |translate}}</strong> <sup id="dr9c8_ref"><a class="fn-lnk" href="#dr9c8"><span class="wb-inv">{{::'INSTRUCTION'|translate}}</span>{{::ingRecCtrl.htIndxList.nmiProprietaryInfoFieldIndx}}</a></sup><cmp-error-message field-name="ingRecCtrl.proprietaryAttestationInfo" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.proprietaryAttestationInfo])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message><input type="text" id="{{::ingRecCtrl.proprietaryAttestationInfo}}" data-ng-model="ingRecCtrl.ingModel.proprietaryAttestation.info" data-ng-model-options="{ debounce: $inherit}" name="{{::ingRecCtrl.proprietaryAttestationInfo}}" class="form-control full-width" name="proprietaryAttestationInfo" data-ng-required="true" maxlength="100"></label><div class="alert alert-info"><span>{{'NMI_PROPRIETARY_INFO_FLD_NOTE'|translate}}</span></div></article></div></div></div><div class="row" data-ng-if="!ingRecCtrl.isMedIng()"><div class="form-group col-md-12"><label for="variant_{{::$id}}"><span class="field-name">{{'VARIANT_NAME'|translate}}</span> <sup id="dr9c2_ref"><a class="fn-lnk" href="#dr9c2"><span class="wb-inv">{{::'INSTRUCTION'|translate}}</span>{{::ingRecCtrl.htIndxList.variaNameIndx}}</a> </sup><input type="text" id="variant_{{::$id}}" data-ng-model="ingRecCtrl.ingModel.variant" maxlength="60" data-ng-model-options="{ debounce: '$inherit'}" class="form-control full-width" name="variant"></label></div><div class="form-group col-md-12" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.purposeId].$invalid}"><label for="{{::ingRecCtrl.purposeId}}" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked()}"><span class="field-name">{{'PURPOSE'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked()" class="required">{{"REQUIRED" |translate}}</strong> <sup id="dr9c3_ref"><a class="fn-lnk" href="#dr9c3"><span class="wb-inv">{{::'INSTRUCTION'|translate}}</span>{{::ingRecCtrl.htIndxList.purposeIndx}}</a></sup><cmp-error-message field-name="ingRecCtrl.purposeId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.purposeId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message><input type="text" id="{{::ingRecCtrl.purposeId}}" data-ng-model="ingRecCtrl.ingModel.purpose" maxlength="60" data-ng-model-options="{ debounce: '$inherit'}" name="{{::ingRecCtrl.purposeId}}" class="form-control full-width" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked()"></label></div></div><div class="row"><div class="form-group col-md-4"><label for="{{::ingRecCtrl.casId}}"><span class="field-name" lang="en" data-ng-if="ingRecCtrl.isFrench()">{{'CAS_NUM'|translate}}</span> <span class="field-name" data-ng-if="!ingRecCtrl.isFrench()">{{'CAS_NUM'|translate}}</span> <input type="text" id="{{::ingRecCtrl.casId}}" data-ng-model="ingRecCtrl.ingModel.cas" maxlength="12" data-ng-model-options="{ debounce: '$inherit'}" class="form-control full-width" name="casNum"></label></div><div class="form-group col-md-4"><label for="{{::ingRecCtrl.standardId}}"><span class="field-name">{{'STANDARD'|translate}}</span> <sup id="dr9c4_ref"><a class="fn-lnk" href="#dr9c4"><span class="wb-inv">{{::'INSTRUCTION'|translate}}</span>{{::ingRecCtrl.htIndxList.standardIndx}}</a> </sup><input type="text" id="{{::ingRecCtrl.standardId}}" data-ng-model="ingRecCtrl.ingModel.standard" data-ng-model-options="{ debounce: '$inherit'}" class="form-control full-width" name="standardVal" maxlength="40"></label></div></div><div class="row"><div class="col-md-12 form-group"><fieldset><legend class="legend-rep"><span class="field-name">{{'STRENGTH'|translate}}</span></legend><div class="row col-md-12"><div class="form-group col-md-3" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.strengthId].$invalid}"><label for="{{::ingRecCtrl.strengthId}}" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{'OPERATOR'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.strengthId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.strengthId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message></label><select id="{{::ingRecCtrl.strengthId}}" data-ng-model="ingRecCtrl.ingModel.strength.operator" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" data-ng-model-options="{ debounce: '$inherit'}" class="form-control full-width" name="{{::ingRecCtrl.strengthId}}" data-ng-options="op[ingRecCtrl.lang] for op in  ingRecCtrl.strengthList track by op.id"></select></div></div><div class="row col-md-12"><div class="form-group col-md-5" data-ng-if="ingRecCtrl.isStrengthSet()" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.strengthData1Id].$invalid}"><label for="{{ingRecCtrl.strengthData1Id}}" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{ingRecCtrl.strengthData1Title|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.strengthData1Id" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.strengthData1Id])" error-types="ingRecCtrl.numberMinError"></cmp-error-message><input type="number" id="{{ingRecCtrl.strengthData1Id}}" data-ng-model="ingRecCtrl.ingModel.strength.data1" data-ng-model-options="{ debounce: '$inherit'}" class="form-control full-width" name="{{ingRecCtrl.strengthData1Id}}" min="0" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked()  || ingRecCtrl.isMedIng()"></label></div><div class="form-group col-md-5" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.strengthData2Id].$invalid}" data-ng-if="ingRecCtrl.isRange()"><label for="{{::ingRecCtrl.strengthData2Id}}" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{'RANGE_UPPER_LIMIT'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.strengthData2Id" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.strengthData2Id])" error-types="ingRecCtrl.numberMinLowerError"></cmp-error-message><input type="number" id="{{::ingRecCtrl.strengthData2Id}}" data-ng-model="ingRecCtrl.ingModel.strength.data2" data-ng-model-options="{ debounce: '$inherit'}" class="form-control full-width" name="{{::ingRecCtrl.strengthData2Id}}" data-ng-min="ingRecCtrl.ingModel.strength.data1 + 0.00000001" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()"></label></div></div><div class="row col-md-12" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.unitsId].$invalid}"><div class="form-group col-md-4"><label for="{{::ingRecCtrl.unitsId}}" class="full-width" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{'UNITS'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.unitsId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.unitsId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message><input type="text" id="{{::ingRecCtrl.unitsId}}" name="{{::ingRecCtrl.unitsId}}" data-ng-model="ingRecCtrl.ingModel.unitsHtml" oninput="angular.element($(this)).scope().ingRecCtrl.unitsChange(this.value)" autocomplete="off" data-ng-blur="ingRecCtrl.unitsBlur()" list="unitsList" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="form-control full-width"><datalist id="unitsList" class="rep-selectize-dropdown rep-selectize-font"><option data-ng-repeat="unit in ingRecCtrl.unitsList" value="{{unit[ingRecCtrl.lang]}}"></option></datalist></label></div><div class="form-group col-md-5" data-ng-if="ingRecCtrl.isUnitsOther()" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.otherUnitsId].$invalid}"><label for="{{::ingRecCtrl.otherUnitsId}}" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{'OTHER_UNITS'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.otherUnitsId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.otherUnitsId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message><input type="text" id="{{::ingRecCtrl.otherUnitsId}}" data-ng-model="ingRecCtrl.ingModel.otherUnits" data-ng-model-options="{ updateOn: 'blur'}" class="form-control" name="{{::ingRecCtrl.otherUnitsId}}" maxlength="55" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()"></label></div></div><div class="row col-md-12"><div class="form-group col-md-3" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.perId].$invalid}"><label for="{{::ingRecCtrl.perId}}" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{'PER_STRENGTH'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.perId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.perId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message></label><select id="{{::ingRecCtrl.perId}}" data-ng-model="ingRecCtrl.ingModel.per" data-ng-model-options="{ debounce: '$inherit'}" class="form-control full-width" name="{{::ingRecCtrl.perId}}" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" data-ng-options="per[ingRecCtrl.lang] for per in  ingRecCtrl.perList track by per.id"></select></div></div><div class="row col-md-12"><div data-ng-if="ingRecCtrl.isPerPresentation()"><div class="form-group col-md-3"><label for="{{ingRecCtrl.perPreValueId}}" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.perPreValueId].$invalid}"><span class="field-name">{{"PER_VALUE"|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong> <input type="number" id="{{ingRecCtrl.perPreValueId}}" data-ng-model="ingRecCtrl.ingModel.perPresentationValue" data-ng-model-options="{ debounce: '$inherit'}" data-ng-readonly="true" class="form-control full-width" name="{{ingRecCtrl.perPreValueId}}" data-ng-min="0" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()"></label></div><div class="form-group col-md-4" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.presentationId].$invalid}" data-ng-if="ingRecCtrl.isPerPresentation()"><label for="{{::ingRecCtrl.presentationId}}" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{'UNIT_PRESENTATION'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong></label><cmp-error-message field-name="ingRecCtrl.presentationId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.presentationId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message><select id="{{::ingRecCtrl.presentationId}}" data-ng-model="ingRecCtrl.ingModel.perPresUnits" data-ng-model-options="{ debounce: '$inherit'}" class="form-control full-width" name="{{::ingRecCtrl.presentationId}}" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" data-ng-options="presentation[ingRecCtrl.lang] for presentation in  ingRecCtrl.presentationList track by presentation.id"></select></div><div class="form-group col-md-5" data-ng-if="ingRecCtrl.isPerPresUnitsOther()" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.perPresOtherUnitId].$invalid}"><label for="{{::ingRecCtrl.perPresOtherUnitId}}" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{'OTHER_UNIT_PRESENTATION'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.perPresOtherUnitId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.perPresOtherUnitId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message><input type="text" id="{{::ingRecCtrl.perPresOtherUnitId}}" data-ng-model="ingRecCtrl.ingModel.perPresOtherUnits" data-ng-model-options="{ updateOn: 'blur'}" class="form-control full-width" name="{{::ingRecCtrl.perPresOtherUnitId}}" maxlength="40" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()"></label></div></div><div data-ng-if="ingRecCtrl.isPerMeasure()"><div class="form-group col-md-4"><label for="{{ingRecCtrl.perMeaValueId}}" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.perMeaValueId].$invalid}"><span class="field-name">{{"PER_VALUE"|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.perMeaValueId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.perMeaValueId])" error-types="ingRecCtrl.numberMinError"></cmp-error-message><input type="number" id="{{ingRecCtrl.perMeaValueId}}" data-ng-model="ingRecCtrl.ingModel.perMeasureValue" data-ng-model-options="{ debounce: '$inherit'}" class="form-control full-width" name="{{ingRecCtrl.perMeaValueId}}" data-ng-min="0" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()"></label></div><div class="form-group col-md-4"><label for="{{::ingRecCtrl.perMeasureUnitId}}" class="full-width" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{'UNIT_MEASURE'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.perMeasureUnitId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.perMeasureUnitId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message><input type="list" id="{{::ingRecCtrl.perMeasureUnitId}}" name="{{::ingRecCtrl.perMeasureUnitId}}" data-ng-model="ingRecCtrl.ingModel.perMeasUnitsHtml" oninput="angular.element($(this)).scope().ingRecCtrl.perMeasUnitsChange(this.value)" autocomplete="off" data-ng-blur="ingRecCtrl.perMeasUnitsBlur()" list="unitsList2" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="form-control full-width"><datalist id="unitsList2" class="rep-selectize-dropdown rep-selectize-font"><option data-ng-repeat="unit in ingRecCtrl.measureList" value="{{unit[ingRecCtrl.lang]}}" label="{{unit[ingRecCtrl.lang]}}"></datalist></label></div><div class="form-group col-md-4" data-ng-if="ingRecCtrl.isPerMeasUnitsOther()" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.perMeasureOtherUnitId].$invalid}"><label for="{{::ingRecCtrl.perMeasureOtherUnitId}}" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{'OTHER_UNIT_MEASURE'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.perMeasureOtherUnitId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.perMeasureOtherUnitId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message><input type="text" id="{{::ingRecCtrl.perMeasureOtherUnitId}}" data-ng-model="ingRecCtrl.ingModel.perMeasOtherUnits" data-ng-model-options="{updateOn: 'blur'}" class="form-control" name="{{::ingRecCtrl.perMeasureOtherUnitId}}" maxlength="40" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()"></label></div></div></div><div class="row col-md-12" data-ng-if="ingRecCtrl.isMedIng()"><div class="form-group col-md-4" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.asBaseId].$invalid}"><label for="{{::ingRecCtrl.asBaseId}}" class="required"><span class="field-name">{{'CALCULATED_AS_BASE'|translate}}</span> <strong class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.asBaseId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.asBaseId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message><select id="{{::ingRecCtrl.asBaseId}}" data-ng-model="ingRecCtrl.ingModel.calcAsBase" data-ng-required="true" class="form-control full-width" name="{{::ingRecCtrl.asBaseId}}" data-ng-options="val |translate for val in  ingRecCtrl.calAsBaseYesNoList"></select></label></div></div></fieldset></div></div><div class="row"><div class="form-group col-xs-12" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.isNanoMaterialId].$invalid}"><fieldset class="chkbxrdio-grp"><legend class="full-width radioButtonTitle" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{'IS_NANO_MATERIAL'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong> <sup id="dr9c5_ref"><a class="fn-lnk" href="#dr9c5"><span class="wb-inv">{{::'INSTRUCTION'|translate}}</span>{{::ingRecCtrl.htIndxList.isNanoIndx}}</a></sup><cmp-error-message field-name="ingRecCtrl.isNanoMaterialId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.isNanoMaterialId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message></legend><input type="radio" id="{{::ingRecCtrl.isNanoMaterialId}}" name="{{::ingRecCtrl.isNanoMaterialId}}" value="Y" data-ng-model="ingRecCtrl.ingModel.isNano" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()"><label for="{{::ingRecCtrl.isNanoMaterialId}}">&nbsp;{{::'Y'|translate}}</label><input type="radio" id="{{::ingRecCtrl.isNanoMaterialId}}_1" name="{{::ingRecCtrl.isNanoMaterialId}}" value="N" data-ng-model="ingRecCtrl.ingModel.isNano" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()"><label for="{{::ingRecCtrl.isNanoMaterialId}}_1">&nbsp;{{::'N'|translate}}</label></fieldset></div><div data-ng-if="ingRecCtrl.isNanoMaterial()"><div class="form-group col-md-3" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.nanoId].$invalid}"><label for="{{::ingRecCtrl.nanoId}}" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{'NANO_MATERIAL'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.nanoId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.nanoId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message></label><select id="{{::ingRecCtrl.nanoId}}" data-ng-model="ingRecCtrl.ingModel.nanoMaterial" data-ng-model-options="{ debounce: '$inherit'}" class="form-control full-width" name="{{::ingRecCtrl.nanoId}}" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" data-ng-options="nano[ingRecCtrl.lang] for nano in  ingRecCtrl.nanoMaterialList track by nano.id"></select></div><div class="form-group col-md-5" data-ng-if="ingRecCtrl.isNanoOther()" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.nanoOtherId].$invalid}"><label for="{{::ingRecCtrl.nanoOtherId}}" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{'NANO_MATERIAL_OTHER'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong><cmp-error-message field-name="ingRecCtrl.nanoOtherId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.nanoOtherId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message></label><input type="text" id="{{::ingRecCtrl.nanoOtherId}}" data-ng-model="ingRecCtrl.ingModel.nanoMaterialOther" data-ng-model-options="{ debounce: '$inherit'}" class="form-control full-width" name="{{::ingRecCtrl.nanoOtherId}}" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" maxlength="40"></div></div></div><div class="row"><div class="form-group col-xs-12" data-ng-class="{'has-error':ingRecCtrl.activeIngForm[ingRecCtrl.animalHumanSrcId].$invalid}"><fieldset class="chkbxrdio-grp"><legend class="full-width radioButtonTitle" data-ng-class="{'required': !ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()}"><span class="field-name">{{'ANIMAL_HUMAN_SOURCED'|translate}}</span> <strong data-ng-if="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()" class="required">{{"REQUIRED" |translate}}</strong> <sup id="dr9c6_ref"><a class="fn-lnk" href="#dr9c6"><span class="wb-inv">{{::'INSTRUCTION'|translate}}</span>{{::ingRecCtrl.htIndxList.ahSourcedIndx}}</a></sup><cmp-error-message field-name="ingRecCtrl.animalHumanSrcId" form-ref="ingRecCtrl.activeIngForm" show-error="ingRecCtrl.showError(ingRecCtrl.activeIngForm[ingRecCtrl.animalHumanSrcId])" error-types="ingRecCtrl.requiredOnly"></cmp-error-message></legend><input type="radio" id="{{::ingRecCtrl.animalHumanSrcId}}" name="{{::ingRecCtrl.animalHumanSrcId}}" value="Y" data-ng-model="ingRecCtrl.ingModel.humanAnimalSourced" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()"><label for="{{::ingRecCtrl.animalHumanSrcId}}">&nbsp;{{::'Y'|translate}}</label><input type="radio" id="{{::ingRecCtrl.animalHumanSrcId}}_1" name="{{::ingRecCtrl.animalHumanSrcId}}" value="N" data-ng-model="ingRecCtrl.ingModel.humanAnimalSourced" data-ng-required="!ingRecCtrl.isNMIProprietaryInfoChecked() || ingRecCtrl.isMedIng()"><label for="{{::ingRecCtrl.animalHumanSrcId}}_1">&nbsp;{{::'N'|translate}}</label></fieldset></div></div><div class="row"><div class="col-xs-11"><div data-ng-if="ingRecCtrl.isAnimalHumanSourced()" class="alert alert-info" role="alert" aria-live="polite">{{'SOURCED_INFO'|translate}}</div></div></div></div><div class="row"><div class="col-xs-12 btn-group-sm align-bottom"><button class="btn btn-primary" data-ng-click="ingRecCtrl.saveIng()" onclick="focusOnTable(this, 'active_ing_list_')" id="medSave_{{::$id}}" name="saveMI">{{'SAVE_RECORD'|translate}}</button> <button data-ng-if="ingRecCtrl.deleteBtn === true" class="btn btn-danger" id="medDelete_{{::$id}}" onclick="focusOnRow(this, 'addAI_')" name="deleteMI" data-ng-click="ingRecCtrl.delete()">{{'DELETE_RECORD'|translate}}</button> <button data-ng-if="ingRecCtrl.deleteBtn === true" class="btn btn-default" data-ng-click="ingRecCtrl.copy()" data-ng-disabled="ingRecCtrl.activeIngForm.$dirty">{{'COPY_RECORD'|translate}}</button> <button class="btn btn-default" name="discardMI" data-ng-click="ingRecCtrl.discardChanges(); ingRecCtrl.setFocus();">{{'DISCARD_CHANGES'|translate}}</button></div></div></fieldset></div></ng-form>