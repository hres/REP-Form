<div class="container-fluid">
    <ng-form name="contactRec.contactRecForm" id="company-contact-record-form">
        <div>
            <cmp-error-summary form-ref="contactRec.contactRecForm" show-errors="contactRec.showErrors()"
                               form-preamble="{{'CONTACT_DETAILS'|translate}}&nbsp;{{contactRec.recordIndex+1}}"
                               name-suffix="contactRec.contactRecForm" set-heading-level="h4" form-id="company-contact-record-form"
                               make-focused="contactRec.setSummaryFocus" alias-list="contactRec.alias"
                               update-errors="contactRec.updateSummary"></cmp-error-summary>

        </div>
        <div>
            <div>
                <h4>{{'CONTACT_DETAILS'|translate}}&nbsp;{{contactRec.recordIndex+1}}</h4>

                <div class="row">
                    <div class="form-group" ng-show="contactRec.formAmend">
                        <input class="formControl" id="chk-amend-rec_{{::$id}}" type="checkbox"
                               ng-model="contactRec.contactModel.amendRecord" ng-change="contactRec.setEditable()"/>
                        <label class="form-checkbox" for="chk-amend-rec_{{::$id}}">
                            {{'AMEND_RECORD'|translate}}
                        </label>
                    </div>
                </div>
            </div>
            <div class="row">
                <cmp-contact-details contact-record="contactRec.contactModel" is-amend="contactRec.isEditable"
                                     on-update="contactRec.onUpdateContactRecord(contact)"
                                     update-error-summary="contactRec.updateErrorSummaryState()"
                                     show-errors="contactRec.showErrors()"></cmp-contact-details>
            </div>
            <div>
                <cmp-address-role record="contactRec.contactModel" legend-text="CONTACT_ROLE_LEGEND"
                                  is-contact="contactRec.isContact" is-amend="contactRec.isEditable"
                                  on-update="contactRec.onContactRoleUpdate($event.roles)"
                                  show-errors="contactRec.showErrors()"  update-error-summary="contactRec.updateErrorSummaryState()"
                                  already-selected="contactRec.isOneSelected(roleName)"></cmp-address-role>

            </div>
            <div>
                <div class="btn-group-sm col-xs-12 text-right">
                    <button class="btn btn-primary" name="saveContact" id="saveContact"
                            ng-click="contactRec.updateContactModel2()">{{'SAVE_REPRES' |translate}}
                    </button>
                    <button class="btn btn-danger" name="deleteContact"
                            ng-click="contactRec.delete()">{{'DELETE_REPRES'|translate}}
                    </button>
                    <button name="discardContact" class="btn btn-default"
                            ng-click="contactRec.discardChanges()">{{'DISCARD_CHANGES'|translate}}
                    </button>
                </div>
            </div>
        </div>
    </ng-form>
    <!--  <pre>contact record model: {{contactRec.contactModel | json : spacing}}</pre>-->

</div>