<div class="container-fluid">
    <ng-form name="transInfoForm" novalidate="novalidate">
        <div class="row">
            <div class="form-group col-md-4"
                 ng-class="{'has-error':transInfoForm.isEctd.$invalid}">
                <label for="isEctd_{{$id}}" class="required full-width">
                    <span class="field-name">{{"IS_ECTD" |translate}}</span>
                    <strong class="required"> {{"REQUIRED" |translate}}</strong>
                    <select id="isEctd_{{$id}}" name="isEctd" ng-change="transInfoCtrl.updateEctdState()"
                            ng-model="transInfoCtrl.transactionModel.isEctd"
                            class="form-control" ng-options="choice |translate for choice in transInfoCtrl.yesNoList"
                            required></select>
                    <strong id="isEctd_-error" class="error"
                            ng-if="transInfoCtrl.showError(transInfoForm.isEctd)">
                        <span class="label label-danger" ng-messages="transInfoForm.isEctd.$error">
                            <span ng-message="required">{{'MSG_ERR_MAND'|translate}}</span>
                        </span>
                    </strong>
                </label>
            </div>
        </div>
        <div ng-show="transInfoCtrl.showEctdSection">
            <div class="row">
                <div class="form-group col-md-4"
                     ng-class="{'has-error':transInfoForm.companyId.$invalid}">
                    <label for="companyId_{{$id}}" class="required full-width">
                        <span class="field-name">{{"COMPANY_ID" |translate}}</span>
                        <strong class="required"> {{"REQUIRED" |translate}}</strong>
                        <input type="text" id="companyId_{{$id}}" name="companyId"
                               ng-model="transInfoCtrl.transactionModel.ectd.companyId"
                               class="form-control" maxlength="6" size="6"
                               ng-required="transInfoCtrl.showEctdSection" ng-minlength="6"/>
                        <strong id="companyId-error" class="error"
                                ng-if="transInfoCtrl.showError(transInfoForm.companyId)">
                        <span class="label label-danger" ng-messages="transInfoForm.companyId.$error">
                            <span ng-message="required">{{'MSG_ERR_MAND'|translate}}</span>
                             <span ng-message="minlength"><span translate="MSG_LENGTH_6"></span></span>
                        </span>
                        </strong>
                    </label>
                </div>
                <div class="form-group col-md-4"
                     ng-class="{'has-error':transInfoForm.dossierId.$invalid}">
                    <label for="dossierId_{{$id}}" class="required full-width">
                        <span class="field-name">{{"DOSSIER_ID" |translate}}</span>
                        <strong class="required"> {{"REQUIRED" |translate}}</strong>
                        <input type="text" id="dossierId_{{$id}}" name="dossierId"
                               ng-model="transInfoCtrl.transactionModel.ectd.dossierId"
                               class="form-control " maxlength="6" size="6"
                               ng-required="transInfoCtrl.showEctdSection" ng-minlength="6"/>
                        <strong id="dossierId-error" class="error"
                                ng-if="transInfoCtrl.showError(transInfoForm.dossierId)">
                        <span class="label label-danger" ng-messages="transInfoForm.dossierId.$error">
                            <span ng-message="required">{{'MSG_ERR_MAND'|translate}}</span>
                            <span ng-message="minlength"><span translate="MSG_LENGTH_6"></span></span>
                        </span>
                        </strong>
                    </label>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-12"
                     ng-class="{'has-error':transInfoForm.dossierName.$invalid}">
                    <label for="dossierName_{{$id}}" class="required full-width">
                        <span class="field-name">{{"DOSSIER_NAME" |translate}}</span>
                        <strong class="required"> {{"REQUIRED" |translate}}</strong>
                        <textarea id="dossierName_{{$id}}" name="dossierName"
                                  ng-model="transInfoCtrl.transactionModel.ectd.dossierName"
                                  class="form-control full-width" maxlength="256" size="256"
                                  ng-required="transInfoCtrl.showEctdSection"></textarea>
                        <strong id="dossierName_-error" class="error"
                                ng-if="transInfoCtrl.showError(transInfoForm.dossierName)">
                        <span class="label label-danger" ng-messages="transInfoForm.companyId.$error">
                            <span ng-message="required">{{'MSG_ERR_MAND'|translate}}</span>
                        </span>
                        </strong>
                    </label>
                </div>
            </div>
            <div>
                <cmp-lifecycle-list records="transInfoCtrl.transactionModel.ectd.lifecycleRecord"
                                    deprecate-sequence="transInfoCtrl.subtractSequence()"
                                    get-new-transaction="transInfoCtrl.getNewTransaction()"></cmp-lifecycle-list>

            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-4"
                 ng-class="{'has-error':transInfoForm.isSolicited.$invalid}">
                <label for="isSolicited_{{$id}}" class="required full-width">
                    <span class="field-name">{{"IS_SOLICITED" |translate}}</span>
                    <strong class="required"> {{"REQUIRED" |translate}}</strong>
                    <select id="isSolicited_{{$id}}" name="isSolicited"
                            ng-model="transInfoCtrl.transactionModel.isSolicited"
                            class="form-control" ng-options="choice |translate for choice in transInfoCtrl.yesNoList"
                            ng-change="transInfoCtrl.setSolicitedState()" required></select>
                    <strong id="isSolicited-error" class="error"
                            ng-if="transInfoCtrl.showError(transInfoForm.isSolicited)">
                        <span class="label label-danger" ng-messages="transInfoForm.isSolicited.$error">
                            <span ng-message="required">{{'MSG_ERR_MAND'|translate}}</span>
                        </span>
                    </strong>
                </label>
            </div>
        </div>
        <div class="row" ng-show="transInfoCtrl.showSolicitedDetail">
            <div class="form-group col-md-12"
                 ng-class="{'has-error':transInfoForm.solicitedRequester.$invalid}">
                <label for="solicitedRequester_{{$id}}" class="required full-width">
                    <span class="field-name">{{"SOLICITED_RQ" |translate}}</span>
                    <strong class="required"> {{"REQUIRED" |translate}}</strong>
                    <textarea maxlength="256" size="256" id="solicitedRequester_{{$id}}" name="solicitedRequester"
                              ng-model="transInfoCtrl.transactionModel.solicitedRequester"
                              class="form-control full-width"
                              ng-required="transInfoCtrl.showSolicitedDetail"/>
                    <strong id="solicitedRequester-error" class="error"
                            ng-if="transInfoCtrl.showError(transInfoForm.solicitedRequester)">
                        <span class="label label-danger" ng-messages="transInfoForm.solicitedRequester.$error">
                            <span ng-message="required">{{'MSG_ERR_MAND'|translate}}</span>
                        </span>
                    </strong>
                </label>
            </div>
        </div>
        <div>
            <fieldset>
                <legend>{{'Name of Regulatory Project Manager, if known'|translate}}</legend>
                <div class="row">
                    <div class="form-group col-md-12">
                        <label for="projectManager1_{{$id}}" class="full-width">
                            <span class="field-name">{{"NAME" |translate}} 1</span>
                            <textarea id="projectManager1_{{$id}}" name="projectManager1"
                                      ng-model="transInfoCtrl.transactionModel.projectManager1"
                                      class="form-control full-width" maxlength="256" size="256"></textarea>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12">
                        <label for="projectManager2_{{$id}}" class="full-width">
                            <span class="field-name">{{"NAME" |translate}} 2</span>
                            <textarea id="projectManager2_{{$id}}" name="projectManager2"
                                      ng-model="transInfoCtrl.transactionModel.projectManager2"
                                      class="form-control full-width" maxlength="256" size="256"></textarea>
                        </label>
                    </div>
                </div>
            </fieldset>
        </div>
        <div>
            <fieldset>
                <legend>Regulatory Activity contact for THIS Regulatory Activity</legend>
                <div class="row">
                    <div class="form-group col-md-12">
                        <label for="isActivityChanges_{{$id}}" class=>
                            <span class="field-name">{{"IS_ACTCHANGES" |translate}}</span>
                            <select id="isActivityChanges_{{$id}}" name="isActivityChanges"
                                    ng-model="transInfoCtrl.transactionModel.isActivityChanges"
                                    class="form-control"
                                    ng-options="choice |translate for choice in transInfoCtrl.yesNoList"></select>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <h3>Company Information</h3>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12" ng-class="{'has-error':transInfoForm.transCompanyName.$invalid}">
                        <label for="companyName_{{$id}}" class="required full-width">
                            <span class="field-name">{{"COMPANYNAME_FULL" |translate}}</span>
                            <strong class="required"> {{"REQUIRED" |translate}}</strong>
                            <input type="text" maxlength="80" id="companyName_{{$id}}" name="transCompanyName"
                                   ng-model="transInfoCtrl.transactionModel.companyName"
                                   class="form-control full-width" ng-required="true"/>
                            <strong id="companyName-error" class="error"
                                    ng-if="transInfoCtrl.showError(transInfoForm.transCompanyName)">
                        <span class="label label-danger" ng-messages="transInfoForm.transCompanyName.$error">
                            <span ng-message="required">{{'MSG_ERR_MAND'|translate}}</span>
                        </span>
                            </strong>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <h3>Address Information</h3>
                    </div>
                </div>
                <div class="row">
                    <cmp-address-details address-record="transInfoCtrl.transactionModel.activityAddress"
                                         show-errors="transInfoCtrl.showError()"></cmp-address-details>
                </div>
            </fieldset>
        </div>
        <div class="row">
            <fieldset>
                <legend>Company Representative for THIS Regulatory Activity</legend>
                <cmp-contact-details contact-record="transInfoCtrl.transactionModel.activityContact"
                                     show-errors="transInfoCtrl.showError()"></cmp-contact-details>
            </fieldset>
        </div>
        <!--   <pre>{{transInfoCtrl.transactionModel | json:spacing}}</pre>-->
    </ng-form>
</div>