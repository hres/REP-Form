<ng-form name="mirCtrl.materialIngRecordForm" id="{{::mirCtrl.materialFormId}}">
    <div class="container-fluid">
        <cmp-error-summary form-ref="mirCtrl.materialIngRecordForm"
                           form-preamble="{{'MATERIAL_DETAILS'|translate}}&nbsp;{{mirCtrl.recordIndex+1}}" exclusion-list=mirCtrl.exclusions
                           name-suffix="mirCtrl.materialIngRecordForm" set-heading-level="h3" form-id="mirCtrl.materialFormId"
                           make-focused="mirCtrl.focusSummary" alias-list="mirCtrl.alias" show-errors="mirCtrl.showSummary"
                           update-errors="mirCtrl.updateSummary"></cmp-error-summary>
        <fieldset>
            <legend>{{'MATERIAL_DETAILS'|translate}}&nbsp;{{mirCtrl.recordIndex+1}}</legend>
            <div class="row">
                <div class="form-group col-md-12"
                     ng-class="{'has-error':mirCtrl.materialIngRecordForm[mirCtrl.nameId].$invalid}">
                    <label for="{{::mirCtrl.nameId}}" class="required">
                        <span class="field-name">{{'MATERIAL_NAME'|translate}}</span>
                        <strong class="required">{{"REQUIRED" |translate}}</strong>
                        <input type="text" id="{{::mirCtrl.nameId}}" data-ng-model="mirCtrl.mirModel.ingredientName"
                               ng-model-options="{ debounce: $inherit}" maxlength="100" size="100" required
                               class="form-control" name="{{::mirCtrl.nameId}}"/>
                        <cmp-error-message field-name="mirCtrl.nameId"
                                           form-ref="mirCtrl.materialIngRecordForm"
                                           show-error="mirCtrl.showError(mirCtrl.materialIngRecordForm[mirCtrl.nameId])"
                                           error-types="mirCtrl.requiredOnly"></cmp-error-message>
                    </label>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-2">
                    <label for="{{::mirCtrl.casId}}"><span class="field-name">{{'CAS_NUM'|translate}}</span></label>
                    <input type="text" id="{{::mirCtrl.casId}}" data-ng-model="mirCtrl.mirModel.cas"
                           ng-model-options="{ debounce: $inherit}"
                           class="form-control" name="{{::mirCtrl.casId}}" maxlength="12" size="12"/>
                </div>
                <div class="form-group col-md-4">
                    <label for="{{::mirCtrl.standardId}}"><span class="field-name">{{'STANDARD'|translate}}</span></label>
                    <input type="text" id="{{::mirCtrl.standardId}}" data-ng-model="mirCtrl.mirModel.ingredientStandard"
                           ng-model-options="{ debounce: $inherit}"
                           class="form-control" name="{{::mirCtrl.standardId}}" maxlength="40" size="40"/>
                </div>
                <div class="form-group col-lg-4 col-md-4 col-sm-4 col-xs-12"
                     ng-class="{'has-error':mirCtrl.materialIngRecordForm[mirCtrl.inFinalId].$invalid}">
                    <label for="{{::mirCtrl.inFinalId}}" class="required">
                        <span class="field-name">{{'IN_FINAL_CONTAINER'|translate}}</span>
                        <strong class="required">{{"REQUIRED" |translate}}</strong>
                        <select id="{{::mirCtrl.inFinalId}}" ng-model="mirCtrl.mirModel.inFinalContainer"
                                ng-required="true" class="form-control" name="{{::mirCtrl.inFinalId}}"
                                ng-options="val |translate for val in  mirCtrl.yesNoList">
                        </select>
                        <cmp-error-message field-name="mirCtrl.inFinalId"
                                           form-ref="mirCtrl.materialIngRecordForm"
                                           show-error="mirCtrl.showError(mirCtrl.materialIngRecordForm[mirCtrl.inFinalId])"
                                           error-types="mirCtrl.requiredOnly"></cmp-error-message>
                    </label>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-info" role="alert" aria-live="polite">
                    {{'SOURCED_INFO'|translate}}
                </div>
            </div>
            <div class="row">

                <div class="btn-group-sm col-xs-12 text-right">
                    <button class="btn btn-primary" name="saveMaterial"
                            ng-click="mirCtrl.save()">{{'SAVE'|translate}}
                    </button>
                    <button ng-if="mirCtrl.deleteBtn === true" class="btn btn-danger" name="deleteMaterial"
                            ng-click="mirCtrl.delete()">{{'DELETE'|translate}}</button>
                    <button class="btn btn-default" name="discardMaterial" ng-click="mirCtrl.discardChanges()">
                        {{'DISCARD_CHANGES'|translate}}</button>
                </div>
            </div>
        </fieldset>
    </div>
</ng-form>

