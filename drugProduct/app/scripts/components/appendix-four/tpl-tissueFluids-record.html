<ng-form name="tissuesSrcCtrl.tissuesRecForm" id="{{::tissuesSrcCtrl.tissuesFormId}}">
    <div class="container-fluid">
        <fieldset>
              <legend class="legend-rep">
                  {{::'TISSUES_FLUIDS_LBL' | translate}}&nbsp;{{tissuesSrcCtrl.model.id}}
              </legend>
        <div class="row" data-ng-class="{'has-error':tissuesSrcCtrl.tissuesRecForm[tissuesSrcCtrl.systemTypeId].$invalid}">
            <div class="col-md-4 form-group">
                <label for="{{::tissuesSrcCtrl.systemTypeId}}" class="required">
                    <span class="field-name">{{::'SYSTEM_TYPE'|translate}}</span>
                    <strong class="required">{{::"REQUIRED" |translate}}</strong>
                    <cmp-error-message field-name="tissuesSrcCtrl.systemTypeId"
                                       form-ref="tissuesSrcCtrl.tissuesRecForm"
                                       show-error="tissuesSrcCtrl.showError(tissuesSrcCtrl.tissuesRecForm[tissuesSrcCtrl.systemTypeId])"
                                       error-types="tissuesSrcCtrl.requiredOnly"></cmp-error-message>
                </label>
            </div>
            <div class="col-md-12">
                <select data-ng-model="tissuesSrcCtrl.model.systemType" class="form-control full-width" id="{{::tissuesSrcCtrl.systemTypeId}}"
                        name="{{::tissuesSrcCtrl.systemTypeId}}" required 
                        data-ng-change="tissuesSrcCtrl.systemChanged(tissuesSrcCtrl.tissuesRecForm[tissuesSrcCtrl.systemTypeId]);tissuesSrcCtrl.cancelFocus();"
                        data-ng-options="val |translate for val in  tissuesSrcCtrl.systemList  | orderByTranslated">
                </select>
            </div>
        </div>
        <div class="row col-md-12 form-group">
            <cmp-nervous-system record="tissuesSrcCtrl.model.system" other-update="tissuesSrcCtrl.otherChanged()" is-file-loaded="tissuesSrcCtrl.isFileLoaded"
                                concat-update="tissuesSrcCtrl.updateConcat(alias,value)" show-errors="tissuesSrcCtrl.showErrors()" add-btn="tissuesSrcCtrl.addBtn"
                                data-ng-if="tissuesSrcCtrl.model.systemType===tissuesSrcCtrl.fluidsLists.getNervousSystemValue() && !tissuesSrcCtrl.isUsed"
                                update-record="tissuesSrcCtrl.updateRecord">
            </cmp-nervous-system>

            <cmp-digestive-system record="tissuesSrcCtrl.model.system" other-update="tissuesSrcCtrl.otherChanged()" is-file-loaded="tissuesSrcCtrl.isFileLoaded"
                                  concat-update="tissuesSrcCtrl.updateConcat(alias,value)" show-errors="tissuesSrcCtrl.showErrors()" add-btn="tissuesSrcCtrl.addBtn"
                                  data-ng-if="tissuesSrcCtrl.model.systemType===tissuesSrcCtrl.fluidsLists.getDigestiveSystemValue() && !tissuesSrcCtrl.isUsed"
                                  update-record="tissuesSrcCtrl.updateRecord">
            </cmp-digestive-system>

            <cmp-cardio-system record="tissuesSrcCtrl.model.system" other-update="tissuesSrcCtrl.otherChanged()" is-file-loaded="tissuesSrcCtrl.isFileLoaded"
                               concat-update="tissuesSrcCtrl.updateConcat(alias,value)" show-errors="tissuesSrcCtrl.showErrors()" add-btn="tissuesSrcCtrl.addBtn"
                               data-ng-if="tissuesSrcCtrl.model.systemType===tissuesSrcCtrl.fluidsLists.getCardioSystemValue() && !tissuesSrcCtrl.isUsed"
                               update-record="tissuesSrcCtrl.updateRecord">
            </cmp-cardio-system>

            <cmp-immune-system record="tissuesSrcCtrl.model.system" other-update="tissuesSrcCtrl.otherChanged()" is-file-loaded="tissuesSrcCtrl.isFileLoaded"
                               concat-update="tissuesSrcCtrl.updateConcat(alias,value)" show-errors="tissuesSrcCtrl.showErrors()" add-btn="tissuesSrcCtrl.addBtn"
                               data-ng-if="tissuesSrcCtrl.model.systemType===tissuesSrcCtrl.fluidsLists.getImmuneSystemValue() && !tissuesSrcCtrl.isUsed"
                               update-record="tissuesSrcCtrl.updateRecord">
            </cmp-immune-system>

            <cmp-muscle-system record="tissuesSrcCtrl.model.system" other-update="tissuesSrcCtrl.otherChanged()" is-file-loaded="tissuesSrcCtrl.isFileLoaded"
                               concat-update="tissuesSrcCtrl.updateConcat(alias,value)" show-errors="tissuesSrcCtrl.showErrors()" add-btn="tissuesSrcCtrl.addBtn"
                               data-ng-if="tissuesSrcCtrl.model.systemType===tissuesSrcCtrl.fluidsLists.getMuscleSystemValue() && !tissuesSrcCtrl.isUsed"
                               update-record="tissuesSrcCtrl.updateRecord">
            </cmp-muscle-system>

            <cmp-other-tissues-system record="tissuesSrcCtrl.model.system" other-update="tissuesSrcCtrl.otherChanged()" is-file-loaded="tissuesSrcCtrl.isFileLoaded"
                                      concat-update="tissuesSrcCtrl.updateConcat(alias,value)" show-errors="tissuesSrcCtrl.showErrors()" add-btn="tissuesSrcCtrl.addBtn"
                                      data-ng-if="tissuesSrcCtrl.model.systemType===tissuesSrcCtrl.fluidsLists.getOtherTissuesSystemValue() && !tissuesSrcCtrl.isUsed"
                                      update-record="tissuesSrcCtrl.updateRecord">
            </cmp-other-tissues-system>

            <cmp-reproductive-system record="tissuesSrcCtrl.model.system" other-update="tissuesSrcCtrl.otherChanged()" is-file-loaded="tissuesSrcCtrl.isFileLoaded"
                                     concat-update="tissuesSrcCtrl.updateConcat(alias,value)" show-errors="tissuesSrcCtrl.showErrors()" add-btn="tissuesSrcCtrl.addBtn"
                                     data-ng-if="tissuesSrcCtrl.model.systemType===tissuesSrcCtrl.fluidsLists.getReproductiveSystemValue() && !tissuesSrcCtrl.isUsed"
                                     update-record="tissuesSrcCtrl.updateRecord">
            </cmp-reproductive-system>

            <cmp-skin-system record="tissuesSrcCtrl.model.system" other-update="tissuesSrcCtrl.otherChanged()" is-file-loaded="tissuesSrcCtrl.isFileLoaded"
                             concat-update="tissuesSrcCtrl.updateConcat(alias,value)" show-errors="tissuesSrcCtrl.showErrors()" add-btn="tissuesSrcCtrl.addBtn"
                             data-ng-if="tissuesSrcCtrl.model.systemType===tissuesSrcCtrl.fluidsLists.getSkinSystemValue() && !tissuesSrcCtrl.isUsed"
                             update-record="tissuesSrcCtrl.updateRecord">
            </cmp-skin-system>
        </div>
            <div class="row"><br/></div>
        <div class="row">
            <div class="btn-group-sm col-xs-12">
                <button data-ng-click="tissuesSrcCtrl.saveRecord()" class="btn btn-primary btn-sm" onclick="focusOnRow(this, 'addTissuesRec_');">
                    {{::'SAVE_RECORD'|translate}}
                </button>
                <button data-ng-click="tissuesSrcCtrl.deleteRecord(item.id)" class="btn btn-danger btn-sm" onclick="focusOnRow(this, 'addTissuesRec_');">
                    {{::'DELETE_RECORD'|translate}}
                </button>
            </div>
        </div>
        </fieldset>
    </div>
    <!--   <pre>{{tissuesSrcCtrl.model|json}} </pre>-->
</ng-form>